(function(e){function t(t){for(var a,c,l=t[0],s=t[1],i=t[2],d=0,b=[];d<l.length;d++)c=l[d],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&b.push(o[c][0]),o[c]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);u&&u(t);while(b.length)b.shift()();return r.push.apply(r,i||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,l=1;l<n.length;l++){var s=n[l];0!==o[s]&&(a=!1)}a&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},o={app:0},r=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var i=0;i<l.length;i++)t(l[i]);var u=s;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"constants",(function(){return F})),n.d(a,"initial",(function(){return D})),n.d(a,"gating",(function(){return L}));var o={};n.r(o),n.d(o,"constants",(function(){return I})),n.d(o,"initial",(function(){return R})),n.d(o,"gating",(function(){return q}));var r=n("7a23");function c(e,t){const n=Object(r["resolveComponent"])("router-view");return Object(r["openBlock"])(),Object(r["createBlock"])(n)}const l={};l.render=c;var s=l,i=n("9483");Object(i["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var u=n("6c02");const d={class:"prose"},b=Object(r["createTextVNode"])("Hodgkin-Huxley model of a neuron.");function p(e,t){const n=Object(r["resolveComponent"])("router-link"),a=Object(r["resolveComponent"])("DefaultPage");return Object(r["openBlock"])(),Object(r["createBlock"])(a,null,{default:Object(r["withCtx"])(()=>[Object(r["createElementVNode"])("div",d,[Object(r["createVNode"])(n,{to:"hodgkin-huxley"},{default:Object(r["withCtx"])(()=>[b]),_:1})])]),_:1})}const h={};h.render=p;var m=h;const f=Object(r["createElementVNode"])("div",{class:"prose"},[Object(r["createElementVNode"])("p",null,[Object(r["createTextVNode"])(" The content of this web site is licensed under a "),Object(r["createElementVNode"])("a",{rel:"license",href:"http://creativecommons.org/licenses/by-sa/4.0/"},"Creative Commons Attribution-ShareAlike 4.0 International License"),Object(r["createTextVNode"])(". ")]),Object(r["createTextVNode"])(" avPlot is an Open Source project and contributions are welcome to the "),Object(r["createElementVNode"])("a",{rel:"license",href:"https://github.com/avplot/avplot.github.io"},"project home page"),Object(r["createTextVNode"])(". ")],-1);function O(e,t){const n=Object(r["resolveComponent"])("DefaultPage");return Object(r["openBlock"])(),Object(r["createBlock"])(n,null,{default:Object(r["withCtx"])(()=>[f]),_:1})}const j={};j.render=O;var g=j,x=n("9b4a");const v={maxGain:.25,valueScale:1,valueOffset:0,baseFrequency:880,octaveScale:2,octaveOffset:0,chartSettings:{showLine:!0,pointBackgroundColor:"#7f007f",borderColor:"#9f3f9f",borderWidth:1}};class N{constructor(e,t={}){this.settings={...v,...t},this.settings.chartSettings={...v.chartSettings,...this.settings.chartSettings,data:[],pointRadius:[]},this.minValue=Number.POSITIVE_INFINITY,this.maxValue=Number.NEGATIVE_INFINITY,this.data=e;const{data:n,pointRadius:a}=this.settings.chartSettings;this.data.data.forEach(([e,t])=>{this.minValue=Math.min(this.minValue,t),this.maxValue=Math.max(this.maxValue,t),n.push({x:e,y:t}),a.push(0)})}getChartSettings(){return this.settings.chartSettings}}x["b"].register(x["a"],x["d"],x["f"],x["g"],x["e"],x["c"],x["h"]);const V={animationDuration:5e3,highlightPointRadius:4,maxGain:.25,valueScale:1,valueOffset:0,baseFrequency:880,octaveScale:2,octaveOffset:0},y=()=>{const e=new AudioContext,t=e.createOscillator(),n=e.createGain();return n.gain.value=0,t.frequency.setValueAtTime(440,e.currentTime),t.connect(n).connect(e.destination),t.start(),e.suspend(),{audioCtx:e,amp:n,oscillator:t}};class k{constructor(e={}){this.settings={...V,...e},this.series=[],this.chart=this.createChart(this.settings.el,this.settings)}async play(){const{animationDuration:e,data:t,highlightPointRadius:n,maxGain:a,valueScale:o,valueOffset:r,baseFrequency:c,octaveScale:l,octaveOffset:s}=this.settings,i=t[0].data.length/e;let u,d,b;const{amp:p,audioCtx:h,oscillator:m}=y();await h.resume();const f=e=>{if(void 0===u?(u=e,p.gain.value=a):this.chart.config.data.datasets[0].pointRadius[b]=0,b===t[0].data.length-1)return p.gain.exponentialRampToValueAtTime(1e-4,h.currentTime+.1),setTimeout(()=>{h.suspend()},200),void this.chart.update();const O=e-u;if(d!==e){b=Math.min(Math.round(i*O),this.settings.data[0].data.length-1),this.chart.config.data.datasets[0].pointRadius[b]=n;const e=this.settings.data[0].data[b][1],t=1/(o*l),a=r-s*t,u=c*2**((e-a)*t);m.frequency.linearRampToValueAtTime(u,h.currentTime+.01)}d=e,requestAnimationFrame(f),this.chart.update()};requestAnimationFrame(f)}createChart(e,t){console.log(t.data);const n=new N(t.data[0],t);this.series.push(n);const a=0;return this.settings.valueOffset=a,this.settings.valueScale=Math.max(n.maxValue-a,a-n.minValue),new x["b"](e,{type:"scatter",data:{datasets:[n.getChartSettings()]},options:{animation:!1,plugins:{legend:{display:!1}},maintainAspectRatio:!1}})}}const _=e=>new k(e),E={style:{height:"40vh"}},w={class:"py-2"},T=Object(r["createTextVNode"])("Play");var C={props:{points:{type:Array,default:()=>[]}},setup(e){const t=e,n=Object(r["ref"])();let a=null;function o(){a.play()}return Object(r["onMounted"])(()=>{a&&a.destroy(),a=_({el:n.value,data:[{data:t.points}]})}),(e,t)=>{const a=Object(r["resolveComponent"])("app-button");return Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[Object(r["createElementVNode"])("div",E,[Object(r["createElementVNode"])("canvas",{ref:n},null,512)]),Object(r["createElementVNode"])("div",w,[Object(r["createVNode"])(a,{onClick:o},{default:Object(r["withCtx"])(()=>[T]),_:1})])],64)}}},S=C,B=n("a1e9"),M=n("5c40"),A=n("599e");const P=65,F={C:1,E_K:-12-P,E_Na:115-P,E_L:10.613-P,g_K:36,g_Na:120,g_L:.3},D={V:0-P,n:.32,m:.05,h:.6},L=e=>{const t=e+P,n=10-t,a=25-t;return{alpha_n:n/(100*(Math.exp(n/10)-1)),alpha_m:a/(10*(Math.exp(a/10)-1)),alpha_h:.07*Math.exp(t/-20),beta_n:.125*Math.exp(t/-80),beta_m:4*Math.exp(t/-18),beta_h:1/(Math.exp((30-t)/10)+1)}},I={C:1,E_Na:55,E_K:-77,E_L:-65,g_Na:40,g_K:35,g_L:.3},R={V:-65,n:.32,m:.05,h:.6},q=e=>{const t=e-25,n=e+35,a=e+90;return{alpha_n:.02*t/(1-Math.exp(t/-9)),alpha_m:.182*n/(1-Math.exp(n/-9)),alpha_h:.25*Math.exp(a/-12),beta_n:-.002*t/(1-Math.exp(t/9)),beta_m:-.124*n/(1-Math.exp(n/9)),beta_h:.25*Math.exp((e+62)/6)/Math.exp(a/12)}},G={koch:a,neuronalDynamics:o},K="koch",H={},W={...G[K],...H},{g_Na:Y,g_K:z,g_L:J,E_Na:$,E_K:Q,E_L:U,C:X}=W.constants;function Z(e){return e<5?0:e<=10?7:0}const ee=W.initial,te=(e,t,n)=>{const[a,o,r,c]=t;n[0]=(Y*r**3*c*($-a)+z*o**4*(Q-a)+J*(U-a)+Z(e))/X;const{alpha_n:l,alpha_m:s,alpha_h:i,beta_n:u,beta_m:d,beta_h:b}=W.gating(a);n[1]=l*(1-o)-u*o,n[2]=s*(1-r)-d*r,n[3]=i*(1-c)-b*c},ne=Object(r["createElementVNode"])("div",{class:"prose"},[Object(r["createElementVNode"])("p",null,[Object(r["createTextVNode"])(" This is a visualization of a model of a neuron first described in 1952"),Object(r["createElementVNode"])("sup",null,"[1]"),Object(r["createTextVNode"])(" by A.L. Hodgkin and A. F. Huxley (the Hodgkin-Huxley model). The curve shows the response of the neuron in mV over a 30ms period to an input current of 7mA from t = 5ms to t = 10ms. ")]),Object(r["createElementVNode"])("p",null,[Object(r["createTextVNode"])(" The system of differential equations is taken from the book Neuronal Dynamics"),Object(r["createElementVNode"])("sup",null,"[2]"),Object(r["createTextVNode"])(", although the parameters used in that book have been replaced by parameters from work by Koch"),Object(r["createElementVNode"])("sup",null,"[3]"),Object(r["createTextVNode"])(", modified to reflect a rest potential of -55mV. ")]),Object(r["createElementVNode"])("ul",null,[Object(r["createElementVNode"])("li",null,[Object(r["createTextVNode"])(" [1] "),Object(r["createElementVNode"])("a",{href:"https://doi.org/10.1113/jphysiol.1952.sp004764",target:"_blank"},"https://doi.org/10.1113/jphysiol.1952.sp004764")]),Object(r["createElementVNode"])("li",null,[Object(r["createTextVNode"])(" [2] "),Object(r["createElementVNode"])("a",{href:"https://neuronaldynamics.epfl.ch/online/Ch2.S2.html",target:"_blank"},[Object(r["createTextVNode"])("Wulfram Gerstner, Werner M. Kistler, Richard Naud and Liam Paninski "),Object(r["createElementVNode"])("em",null,"Neuronal Dynamics")])]),Object(r["createElementVNode"])("li",null,[Object(r["createTextVNode"])(" [3] "),Object(r["createElementVNode"])("a",{href:"https://oxford.universitypressscholarship.com/view/10.1093/oso/9780195104912.001.0001/isbn-9780195104912",target:"_blank"},[Object(r["createTextVNode"])("Christof Koch (1998) "),Object(r["createElementVNode"])("em",null,"Biophysics of Computation")])])])],-1);var ae={setup(e){let t=Object(B["r"])([]);return Object(M["mb"])(()=>{const e=[0,30],n=Object.values(ee),a={step:.0125,stepCallback:!0},o=Object(A["a"])(te,e,n,a).solve();t.value=o.steps.map(([e,[t]])=>[e,t])}),(e,n)=>{const a=Object(r["resolveComponent"])("DefaultPage");return Object(r["openBlock"])(),Object(r["createBlock"])(a,null,{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(S,{points:Object(r["unref"])(t)},null,8,["points"]),Object(r["createCommentVNode"])("",!0),ne]),_:1})}}},oe=ae;const re=[{path:"/",component:m},{path:"/hodgkin-huxley",component:oe},{path:"/about",component:g}],ce=Object(u["a"])({history:Object(u["b"])(),routes:re});var le=ce,se=(n("a766"),n("4971")),ie=n.n(se);n("24df");const ue={class:"bg-blueGray-300 py-0 mt-0 fixed w-full z-10 top-0"},de={class:"container mx-auto px-2 flex flex-wrap items-center"},be=Object(r["createElementVNode"])("div",{class:"\n          flex\n          w-full\n          md:w-1/2\n          justify-center\n          md:justify-start\n          text-white\n          font-extrabold\n        "},[Object(r["createElementVNode"])("a",{class:"text-white no-underline hover:text-white hover:no-underline",href:"#"},[Object(r["createElementVNode"])("span",{class:"text-2xl text-gray-600"},"avPlot")])],-1),pe={class:"\n          flex\n          w-full\n          content-center\n          justify-between\n          md:w-1/2 md:justify-end\n        "},he={class:"\n            list-reset\n            flex\n            justify-between\n            flex-1\n            md:flex-none\n            items-center\n          "},me=["to"],fe={class:"container mx-auto mt-24 md:mt-16 px-2 pb-2"},Oe={class:"text-center py-1 text-xs bg-blueGray-200 text-blueGray-500"},je=Object(r["createTextVNode"])(" Copyright © 2021 "),ge=Object(r["createElementVNode"])("a",{target:"_blank",href:"https://github.com/avplot/"},"pbuk",-1),xe=Object(r["createTextVNode"])(" | "),ve=Object(r["createTextVNode"])("CC BY-SA 4.0");var Ne={setup(e){const t=[{to:"/",label:"Home"},{to:"/about",label:"About"}],n=Object(u["c"])();return(e,a)=>{const o=Object(r["resolveComponent"])("router-link");return Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[Object(r["createElementVNode"])("nav",ue,[Object(r["createElementVNode"])("div",de,[be,Object(r["createElementVNode"])("div",pe,[Object(r["createElementVNode"])("ul",he,[(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(t,e=>Object(r["createElementVNode"])("li",{key:e.path,class:"mr-3"},[e.to===Object(r["unref"])(n).path?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",{key:0,class:"inline-block py-2 px-4 text-white no-underline",to:e.to},Object(r["toDisplayString"])(e.label),9,me)):(Object(r["openBlock"])(),Object(r["createBlock"])(o,{key:1,class:"\n                inline-block\n                text-gray-700\n                no-underline\n                hover:underline\n                py-2\n                px-4\n              ",to:e.to},{default:Object(r["withCtx"])(()=>[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.label),1)]),_:2},1032,["to"]))])),64))])])])]),Object(r["createElementVNode"])("div",fe,[Object(r["renderSlot"])(e.$slots,"default")]),Object(r["createElementVNode"])("footer",Oe,[je,ge,xe,Object(r["createVNode"])(o,{to:"/about"},{default:Object(r["withCtx"])(()=>[ve]),_:1})])],64)}}},Ve=Ne;const ye={class:"bg-blue-500 hover:bg-blue-700 text-white py-1 px-4 rounded"};var ke={setup(e){return(e,t)=>(Object(r["openBlock"])(),Object(r["createElementBlock"])("button",ye,[Object(r["renderSlot"])(e.$slots,"default")]))}},_e=ke;Object(r["createApp"])(s).use(le).component("VueSlider",ie.a).component("DefaultPage",Ve).component("AppButton",_e).mount("#app")},a766:function(e,t,n){}});
//# sourceMappingURL=app.4c5eb3a0.js.map