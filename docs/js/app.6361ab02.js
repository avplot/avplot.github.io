(function(e){function t(t){for(var a,r,l=t[0],s=t[1],i=t[2],d=0,b=[];d<l.length;d++)r=l[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&b.push(o[r][0]),o[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);u&&u(t);while(b.length)b.shift()();return c.push.apply(c,i||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,l=1;l<n.length;l++){var s=n[l];0!==o[s]&&(a=!1)}a&&(c.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},o={app:0},c=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var i=0;i<l.length;i++)t(l[i]);var u=s;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"constants",(function(){return P})),n.d(a,"initial",(function(){return D})),n.d(a,"gating",(function(){return F}));var o={};n.r(o),n.d(o,"constants",(function(){return L})),n.d(o,"initial",(function(){return I})),n.d(o,"gating",(function(){return R}));var c=n("7a23");function r(e,t){const n=Object(c["resolveComponent"])("router-view");return Object(c["openBlock"])(),Object(c["createBlock"])(n)}const l={};l.render=r;var s=l,i=n("6c02");const u={class:"prose"},d=Object(c["createTextVNode"])("Hodgkin-Huxley model of a neuron.");function b(e,t){const n=Object(c["resolveComponent"])("router-link"),a=Object(c["resolveComponent"])("DefaultPage");return Object(c["openBlock"])(),Object(c["createBlock"])(a,null,{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",u,[Object(c["createVNode"])(n,{to:"hodgkin-huxley"},{default:Object(c["withCtx"])(()=>[d]),_:1})])]),_:1})}const p={};p.render=b;var h=p;const m=Object(c["createElementVNode"])("div",{class:"prose"},[Object(c["createElementVNode"])("p",null,[Object(c["createTextVNode"])(" The content of this web site is licensed under a "),Object(c["createElementVNode"])("a",{rel:"license",href:"http://creativecommons.org/licenses/by-sa/4.0/"},"Creative Commons Attribution-ShareAlike 4.0 International License"),Object(c["createTextVNode"])(". ")]),Object(c["createTextVNode"])(" avPlot is an Open Source project and contributions are welcome to the "),Object(c["createElementVNode"])("a",{rel:"license",href:"https://github.com/avplot/avplot.github.io"},"project home page"),Object(c["createTextVNode"])(". ")],-1);function f(e,t){const n=Object(c["resolveComponent"])("DefaultPage");return Object(c["openBlock"])(),Object(c["createBlock"])(n,null,{default:Object(c["withCtx"])(()=>[m]),_:1})}const O={};O.render=f;var j=O,g=n("9b4a");const x={maxGain:.25,valueScale:1,valueOffset:0,baseFrequency:880,octaveScale:2,octaveOffset:0,chartSettings:{showLine:!0,pointBackgroundColor:"#7f007f",borderColor:"#9f3f9f",borderWidth:1}};class v{constructor(e,t={}){this.settings={...x,...t},this.settings.chartSettings={...x.chartSettings,...this.settings.chartSettings,data:[],pointRadius:[]},this.minValue=Number.POSITIVE_INFINITY,this.maxValue=Number.NEGATIVE_INFINITY,this.data=e;const{data:n,pointRadius:a}=this.settings.chartSettings;this.data.data.forEach(([e,t])=>{this.minValue=Math.min(this.minValue,t),this.maxValue=Math.max(this.maxValue,t),n.push({x:e,y:t}),a.push(0)})}getChartSettings(){return this.settings.chartSettings}}g["b"].register(g["a"],g["d"],g["f"],g["g"],g["e"],g["c"],g["h"]);const V={animationDuration:5e3,highlightPointRadius:4,maxGain:.25,valueScale:1,valueOffset:0,baseFrequency:880,octaveScale:2,octaveOffset:0},N=()=>{const e=new AudioContext,t=e.createOscillator(),n=e.createGain();return n.gain.value=0,t.frequency.setValueAtTime(440,e.currentTime),t.connect(n).connect(e.destination),t.start(),e.suspend(),{audioCtx:e,amp:n,oscillator:t}};class y{constructor(e={}){this.settings={...V,...e},this.series=[],this.chart=this.createChart(this.settings.el,this.settings)}async play(){const{animationDuration:e,data:t,highlightPointRadius:n,maxGain:a,valueScale:o,valueOffset:c,baseFrequency:r,octaveScale:l,octaveOffset:s}=this.settings,i=t[0].data.length/e;let u,d,b;const{amp:p,audioCtx:h,oscillator:m}=N();await h.resume();const f=e=>{if(void 0===u?(u=e,p.gain.value=a):this.chart.config.data.datasets[0].pointRadius[b]=0,b===t[0].data.length-1)return p.gain.exponentialRampToValueAtTime(1e-4,h.currentTime+.1),setTimeout(()=>{h.suspend()},200),void this.chart.update();const O=e-u;if(d!==e){b=Math.min(Math.round(i*O),this.settings.data[0].data.length-1),this.chart.config.data.datasets[0].pointRadius[b]=n;const e=this.settings.data[0].data[b][1],t=1/(o*l),a=c-s*t,u=r*2**((e-a)*t);m.frequency.linearRampToValueAtTime(u,h.currentTime+.01)}d=e,requestAnimationFrame(f),this.chart.update()};requestAnimationFrame(f)}createChart(e,t){console.log(t.data);const n=new v(t.data[0],t);this.series.push(n);const a=0;return this.settings.valueOffset=a,this.settings.valueScale=Math.max(n.maxValue-a,a-n.minValue),new g["b"](e,{type:"scatter",data:{datasets:[n.getChartSettings()]},options:{animation:!1,plugins:{legend:{display:!1}},maintainAspectRatio:!1}})}}const _=e=>new y(e),E={style:{height:"40vh"}},k={class:"py-2"},w=Object(c["createTextVNode"])("Play");var T={props:{points:{type:Array,default:()=>[]}},setup(e){const t=e,n=Object(c["ref"])();let a=null;function o(){a.play()}return Object(c["onMounted"])(()=>{a&&a.destroy(),a=_({el:n.value,data:[{data:t.points}]})}),(e,t)=>{const a=Object(c["resolveComponent"])("app-button");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createElementVNode"])("div",E,[Object(c["createElementVNode"])("canvas",{ref:n},null,512)]),Object(c["createElementVNode"])("div",k,[Object(c["createVNode"])(a,{onClick:o},{default:Object(c["withCtx"])(()=>[w]),_:1})])],64)}}},C=T,S=n("a1e9"),B=n("5c40"),M=n("599e");const A=65,P={C:1,E_K:-12-A,E_Na:115-A,E_L:10.613-A,g_K:36,g_Na:120,g_L:.3},D={V:0-A,n:.32,m:.05,h:.6},F=e=>{const t=e+A,n=10-t,a=25-t;return{alpha_n:n/(100*(Math.exp(n/10)-1)),alpha_m:a/(10*(Math.exp(a/10)-1)),alpha_h:.07*Math.exp(t/-20),beta_n:.125*Math.exp(t/-80),beta_m:4*Math.exp(t/-18),beta_h:1/(Math.exp((30-t)/10)+1)}},L={C:1,E_Na:55,E_K:-77,E_L:-65,g_Na:40,g_K:35,g_L:.3},I={V:-65,n:.32,m:.05,h:.6},R=e=>{const t=e-25,n=e+35,a=e+90;return{alpha_n:.02*t/(1-Math.exp(t/-9)),alpha_m:.182*n/(1-Math.exp(n/-9)),alpha_h:.25*Math.exp(a/-12),beta_n:-.002*t/(1-Math.exp(t/9)),beta_m:-.124*n/(1-Math.exp(n/9)),beta_h:.25*Math.exp((e+62)/6)/Math.exp(a/12)}},G={koch:a,neuronalDynamics:o},K="koch",q={},H={...G[K],...q},{g_Na:W,g_K:Y,g_L:z,E_Na:J,E_K:$,E_L:Q,C:U}=H.constants;function X(e){return e<5?0:e<=10?7:0}const Z=H.initial,ee=(e,t,n)=>{const[a,o,c,r]=t;n[0]=(W*c**3*r*(J-a)+Y*o**4*($-a)+z*(Q-a)+X(e))/U;const{alpha_n:l,alpha_m:s,alpha_h:i,beta_n:u,beta_m:d,beta_h:b}=H.gating(a);n[1]=l*(1-o)-u*o,n[2]=s*(1-c)-d*c,n[3]=i*(1-r)-b*r},te=Object(c["createElementVNode"])("div",{class:"prose"},[Object(c["createElementVNode"])("p",null,[Object(c["createTextVNode"])(" This is a visualization of a model of a neuron first described in 1952"),Object(c["createElementVNode"])("sup",null,"[1]"),Object(c["createTextVNode"])(" by A.L. Hodgkin and A. F. Huxley (the Hodgkin-Huxley model). The curve shows the response of the neuron in mV over a 30ms period to an input current of 7mA from t = 5ms to t = 10ms. ")]),Object(c["createElementVNode"])("p",null,[Object(c["createTextVNode"])(" The system of differential equations is taken from the book Neuronal Dynamics"),Object(c["createElementVNode"])("sup",null,"[2]"),Object(c["createTextVNode"])(", although the parameters used in that book have been replaced by parameters from work by Koch"),Object(c["createElementVNode"])("sup",null,"[3]"),Object(c["createTextVNode"])(", modified to reflect a rest potential of -55mV. ")]),Object(c["createElementVNode"])("ul",null,[Object(c["createElementVNode"])("li",null,[Object(c["createTextVNode"])(" [1] "),Object(c["createElementVNode"])("a",{href:"https://doi.org/10.1113/jphysiol.1952.sp004764",target:"_blank"},"https://doi.org/10.1113/jphysiol.1952.sp004764")]),Object(c["createElementVNode"])("li",null,[Object(c["createTextVNode"])(" [2] "),Object(c["createElementVNode"])("a",{href:"https://neuronaldynamics.epfl.ch/online/Ch2.S2.html",target:"_blank"},[Object(c["createTextVNode"])("Wulfram Gerstner, Werner M. Kistler, Richard Naud and Liam Paninski "),Object(c["createElementVNode"])("em",null,"Neuronal Dynamics")])]),Object(c["createElementVNode"])("li",null,[Object(c["createTextVNode"])(" [3] "),Object(c["createElementVNode"])("a",{href:"https://oxford.universitypressscholarship.com/view/10.1093/oso/9780195104912.001.0001/isbn-9780195104912",target:"_blank"},[Object(c["createTextVNode"])("Christof Koch (1998) "),Object(c["createElementVNode"])("em",null,"Biophysics of Computation")])])])],-1);var ne={setup(e){let t=Object(S["r"])([]);return Object(B["hb"])(()=>{const e=[0,30],n=Object.values(Z),a={step:.0125,stepCallback:!0},o=Object(M["a"])(ee,e,n,a).solve();t.value=o.steps.map(([e,[t]])=>[e,t])}),(e,n)=>{const a=Object(c["resolveComponent"])("DefaultPage");return Object(c["openBlock"])(),Object(c["createBlock"])(a,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(C,{points:Object(c["unref"])(t)},null,8,["points"]),Object(c["createCommentVNode"])("",!0),te]),_:1})}}},ae=ne;const oe=[{path:"/",component:h},{path:"/hodgkin-huxley",component:ae},{path:"/about",component:j}],ce=Object(i["a"])({history:Object(i["b"])(),routes:oe});var re=ce,le=(n("a766"),n("4971")),se=n.n(le);n("24df");const ie={class:"bg-blueGray-300 py-0 mt-0 fixed w-full z-10 top-0"},ue={class:"container mx-auto px-2 flex flex-wrap items-center"},de=Object(c["createElementVNode"])("div",{class:"\n          flex\n          w-full\n          md:w-1/2\n          justify-center\n          md:justify-start\n          text-white\n          font-extrabold\n        "},[Object(c["createElementVNode"])("a",{class:"text-white no-underline hover:text-white hover:no-underline",href:"#"},[Object(c["createElementVNode"])("span",{class:"text-2xl text-gray-600"},"avPlot")])],-1),be={class:"\n          flex\n          w-full\n          content-center\n          justify-between\n          md:w-1/2 md:justify-end\n        "},pe={class:"\n            list-reset\n            flex\n            justify-between\n            flex-1\n            md:flex-none\n            items-center\n          "},he=["to"],me={class:"container mx-auto mt-24 md:mt-16 px-2 pb-2"},fe={class:"text-center py-1 text-xs bg-blueGray-200 text-blueGray-500"},Oe=Object(c["createTextVNode"])(" Copyright © 2021 "),je=Object(c["createElementVNode"])("a",{target:"_blank",href:"https://github.com/avplot/"},"pbuk",-1),ge=Object(c["createTextVNode"])(" | "),xe=Object(c["createTextVNode"])("CC BY-SA 4.0");var ve={setup(e){const t=[{to:"/",label:"Home"},{to:"/about",label:"About"}],n=Object(i["c"])();return(e,a)=>{const o=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createElementVNode"])("nav",ie,[Object(c["createElementVNode"])("div",ue,[de,Object(c["createElementVNode"])("div",be,[Object(c["createElementVNode"])("ul",pe,[(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(t,e=>Object(c["createElementVNode"])("li",{key:e.path,class:"mr-3"},[e.to===Object(c["unref"])(n).path?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",{key:0,class:"inline-block py-2 px-4 text-white no-underline",to:e.to},Object(c["toDisplayString"])(e.label),9,he)):(Object(c["openBlock"])(),Object(c["createBlock"])(o,{key:1,class:"\n                inline-block\n                text-gray-700\n                no-underline\n                hover:underline\n                py-2\n                px-4\n              ",to:e.to},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.label),1)]),_:2},1032,["to"]))])),64))])])])]),Object(c["createElementVNode"])("div",me,[Object(c["renderSlot"])(e.$slots,"default")]),Object(c["createElementVNode"])("footer",fe,[Oe,je,ge,Object(c["createVNode"])(o,{to:"/about"},{default:Object(c["withCtx"])(()=>[xe]),_:1})])],64)}}},Ve=ve;const Ne={class:"bg-blue-500 hover:bg-blue-700 text-white py-1 px-4 rounded"};var ye={setup(e){return(e,t)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("button",Ne,[Object(c["renderSlot"])(e.$slots,"default")]))}},_e=ye;Object(c["createApp"])(s).use(re).component("VueSlider",se.a).component("DefaultPage",Ve).component("AppButton",_e).mount("#app")},a766:function(e,t,n){}});
//# sourceMappingURL=app.6361ab02.js.map